<view class="data-v-790482c7"><view class="hm-wrap data-v-790482c7"><view class="hm-header-xian data-v-790482c7"></view><u-sticky vue-id="3bc35b9e-1" offsetTop="1" customNavHeight="0" bgColor="#ffffff" class="data-v-790482c7" bind:__l="__l" vue-slots="{{['default']}}"><u-tabs vue-id="{{('3bc35b9e-2')+','+('3bc35b9e-1')}}" list="{{tabs}}" lineColor="#FF9900" itemStyle="{{({height:'88rpx',width:'130rpx'})}}" current="{{current}}" scrollable="{{false}}" data-event-opts="{{[['^change',[['change']]]]}}" bind:change="__e" class="data-v-790482c7" bind:__l="__l"></u-tabs></u-sticky><swiper class="swiper data-v-790482c7" current="{{current}}" data-event-opts="{{[['animationfinish',[['animationfinish',['$event']]]]]}}" bindanimationfinish="__e"><block wx:for="{{tabs}}" wx:for-item="tabs_item" wx:for-index="tabs_index" wx:key="tabs_index"><swiper-item class="item data-v-790482c7"><scroll-view class="hm-w-h data-v-790482c7" scroll-y="{{true}}" data-event-opts="{{[['scrolltolower',[['reachBottom',['$event']]]]]}}" bindscrolltolower="__e"><block wx:if="{{list[current].total}}"><view class="hm-p-lr-20 data-v-790482c7"><block wx:for="{{list[current].data}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="order data-v-790482c7"><view class="hm-p-b-20 hm-border-b data-v-790482c7">{{'#'+item.order_mode.text+'#'}}<block wx:if="{{item.order_mode.value==10&&item.table_id>0}}"><text class="hm-m-l-20 hm-col-tips data-v-790482c7">{{item.table.table_name}}</text></block><block wx:else><text class="hm-m-l-20 hm-col-tips data-v-790482c7">{{item.row_no+"号"}}</text></block><view class="hm-dis-block-inline hm-fr hm-col-success data-v-790482c7"><block wx:if="{{item.order_status.value==10}}"><block class="data-v-790482c7"><block wx:if="{{item.shop_status.value==10}}"><text class="data-v-790482c7">{{''+item.shop_status.text+''}}<block wx:if="{{item.pay_status.value==10}}"><text class="data-v-790482c7">{{'- '+item.pay_status.text+''}}</text></block></text></block><block wx:if="{{item.shop_status.value==20&&item.delivery_status.value==10}}"><text class="data-v-790482c7">{{''+item.delivery_status.text+''}}<block wx:if="{{item.pay_status.value==10}}"><text class="data-v-790482c7">{{'- '+item.pay_status.text+''}}</text></block></text></block><block wx:if="{{item.delivery_status.value==20}}"><text class="data-v-790482c7">{{''+item.delivery.delivery_status.text+''}}<block wx:if="{{item.pay_status.value==10}}"><text class="data-v-790482c7">{{'- '+item.pay_status.text+''}}</text></block></text></block><block wx:if="{{item.delivery_status.value==30&&item.receipt_status.value==10}}"><text class="data-v-790482c7">{{''+item.receipt_status.text+''}}<block wx:if="{{item.pay_status.value==10}}"><text class="data-v-790482c7">{{'- '+item.pay_status.text+''}}</text></block></text></block></block></block><block wx:else><block wx:if="{{item.order_status.value==40}}"><block class="data-v-790482c7">{{''+item.refund_status.text+''}}</block></block><block wx:else><block class="data-v-790482c7">{{''+item.order_status.text+''}}</block></block></block></view></view><view data-event-opts="{{[['tap',[['goTo',['order/detail?id='+item.order_id]]]]]}}" class="hm-p-tb-20 hm-font-26 data-v-790482c7" bindtap="__e"><block wx:for="{{item.goods}}" wx:for-item="item2" wx:for-index="index2" wx:key="index2"><view class="data-v-790482c7">{{''+(index2+1)+':'}}<text class="hm-m-l-10 data-v-790482c7">{{item2.goods_name}}</text><block wx:if="{{item2.goods_attr}}"><text class="hm-col-tips hm-m-l-15 data-v-790482c7">{{item2.goods_attr}}</text></block><view class="hm-dis-block-inline hm-col-tips hm-fr hm-w-250 data-v-790482c7">{{'￥'+item2.goods_price+"×"+item2.total_num+''}}<text class="hm-fr hm-col-error data-v-790482c7">{{"￥"+item2.total_price}}</text></view></view></block></view><view class="hm-border-t hm-p-tb-20 data-v-790482c7">实付：<text class="hm-col-error data-v-790482c7">{{"￥"+item.pay_price}}</text><view class="hm-dis-block-inline hm-fr data-v-790482c7"><block wx:if="{{item.order_status.value==10}}"><block class="data-v-790482c7"><block wx:if="{{item.shop_status.value==10}}"><view class="hm-dis-block-inline data-v-790482c7"><u-button vue-id="{{'3bc35b9e-3-'+tabs_index+'-'+index}}" size="small" text="取消订单" data-event-opts="{{[['^click',[['cancel',['$0'],[[['list.'+current+'.data','',index,'order_id']]]]]]]}}" bind:click="__e" class="data-v-790482c7" bind:__l="__l"></u-button></view></block><block wx:if="{{item.pay_status.value==10}}"><view class="hm-m-l-20 hm-dis-block-inline data-v-790482c7"><u-button vue-id="{{'3bc35b9e-4-'+tabs_index+'-'+index}}" size="small" type="warning" text="立即付款" data-event-opts="{{[['^click',[['payOrder',['$0','$1'],[[['list.'+current+'.data','',index,'order_id']],[['list.'+current+'.data','',index,'pay_price']]]]]]]}}" bind:click="__e" class="data-v-790482c7" bind:__l="__l"></u-button></view></block><block wx:if="{{item.shop_status.value==20&&item.delivery_status.value==10}}"><view class="hm-m-l-20 hm-dis-block-inline data-v-790482c7"><u-button vue-id="{{'3bc35b9e-5-'+tabs_index+'-'+index}}" size="small" type="error" text="我要退单" data-event-opts="{{[['^click',[['goTo',['order/refund?id='+item.order_id]]]]]}}" bind:click="__e" class="data-v-790482c7" bind:__l="__l"></u-button></view></block><block wx:if="{{item.order_mode.value==10&&item.table_id>0&&item.shop_status.value==20&&item.receipt_status.value==10}}"><view class="hm-m-l-20 hm-dis-block-inline data-v-790482c7"><u-button vue-id="{{'3bc35b9e-6-'+tabs_index+'-'+index}}" size="small" type="success" text="呼叫服务" data-event-opts="{{[['^click',[['spkBox',['$0'],[[['list.'+current+'.data','',index,'table.row_no']]]]]]]}}" bind:click="__e" class="data-v-790482c7" bind:__l="__l"></u-button></view></block><block wx:if="{{item.pay_status.value==20&&item.delivery_status.value==30&&item.receipt_status.value==10}}"><view class="hm-m-l-20 hm-dis-block-inline data-v-790482c7"><u-button vue-id="{{'3bc35b9e-7-'+tabs_index+'-'+index}}" size="small" type="warning" text="确认完成" data-event-opts="{{[['^click',[['receipt',['$0'],[[['list.'+current+'.data','',index,'order_id']]]]]]]}}" bind:click="__e" class="data-v-790482c7" bind:__l="__l"></u-button></view></block></block></block><block wx:if="{{item.order_status.value==30&&item.is_cmt.value==0}}"><view class="hm-dis-block-inline data-v-790482c7"><u-button vue-id="{{'3bc35b9e-8-'+tabs_index+'-'+index}}" size="small" type="warning" text="我要评价" data-event-opts="{{[['^click',[['goTo',['order/comment?id='+item.order_id]]]]]}}" bind:click="__e" class="data-v-790482c7" bind:__l="__l"></u-button></view></block></view></view></view></block><view class="data-v-790482c7"><u-loadmore vue-id="{{'3bc35b9e-9-'+tabs_index}}" status="{{loadStatus[current]}}" bgColor="#F7F7F7" marginTop="20" marginBottom="20" line="{{true}}" class="data-v-790482c7" bind:__l="__l"></u-loadmore></view></view></block><block wx:else><view class="hm data-v-790482c7"><image src="{{applet.domain+'/addons/single/empty/order.png'}}" class="data-v-790482c7"></image><view class="text data-v-790482c7">暂无订单数据</view></view></block><view class="hm data-v-790482c7">{{''+applet.copyright+''}}<text class="v data-v-790482c7">{{"V"+applet.version}}</text></view></scroll-view></swiper-item></block></swiper></view><u-popup vue-id="3bc35b9e-10" show="{{cashier_show}}" mode="center" round="8" closeable="{{true}}" data-event-opts="{{[['^close',[['e0']]]]}}" bind:close="__e" class="data-v-790482c7" bind:__l="__l" vue-slots="{{['default']}}"><view class="hm-popup data-v-790482c7"><view class="hm-p-b-20 hm-border-b hm-text-center data-v-790482c7">支付收银台</view><view class="hm-p-tb-50 hm-text-center data-v-790482c7"><view class="hm-font-b hm-col-0 data-v-790482c7">￥<text class="hm-font-100 data-v-790482c7">{{order_pay_price}}</text></view><view class="hm-font-28 hm-col-content data-v-790482c7">订单支付</view></view><block wx:if="{{mp=='weixin'||mp=='other'}}"><view data-event-opts="{{[['tap',[['setPay',[1]]]]]}}" class="hm-p-20 hm-border-t hm-font-26 data-v-790482c7" bindtap="__e"><view class="hm-m-r-15 hm-dis-block-inline data-v-790482c7"><u-icon vue-id="{{('3bc35b9e-11')+','+('3bc35b9e-10')}}" name="weixin-circle-fill" size="20" color="#19be6b" class="data-v-790482c7" bind:__l="__l"></u-icon></view>微信<view class="hm-fr hm-dis-block-inline data-v-790482c7"><block wx:if="{{pay_mode==1}}"><u-icon vue-id="{{('3bc35b9e-12')+','+('3bc35b9e-10')}}" name="checkbox-mark" size="25" color="#fa3534" class="data-v-790482c7" bind:__l="__l"></u-icon></block></view></view></block><view data-event-opts="{{[['tap',[['setPay',[2]]]]]}}" class="hm-p-20 hm-border-t hm-font-26 data-v-790482c7" bindtap="__e"><view class="hm-m-r-15 hm-dis-block-inline data-v-790482c7"><u-icon vue-id="{{('3bc35b9e-13')+','+('3bc35b9e-10')}}" name="red-packet-fill" size="20" color="{{$root.m0<$root.m1?'#c0c4cc':'#FF9900'}}" class="data-v-790482c7" bind:__l="__l"></u-icon></view><text class="{{['data-v-790482c7',$root.m2<$root.m3?'hm-col-light':'']}}">余额(<text class="{{['data-v-790482c7',$root.m4<$root.m5?'':'hm-col-error']}}">{{"￥"+userInfo.money}}</text>)</text><view class="hm-fr hm-dis-block-inline data-v-790482c7"><block wx:if="{{pay_mode==2}}"><u-icon vue-id="{{('3bc35b9e-14')+','+('3bc35b9e-10')}}" name="checkbox-mark" size="25" color="#fa3534" class="data-v-790482c7" bind:__l="__l"></u-icon></block><block wx:if="{{$root.m6<$root.m7}}"><text class="hm-col-light data-v-790482c7">余额不足</text></block></view></view><view class="hm-border-t hm-p-t-50 data-v-790482c7"><view class="hm-p-lr-b25 data-v-790482c7"><u-button vue-id="{{('3bc35b9e-15')+','+('3bc35b9e-10')}}" type="success" text="确认支付" data-event-opts="{{[['^click',[['payment']]]]}}" bind:click="__e" class="data-v-790482c7" bind:__l="__l"></u-button></view></view></view></u-popup><u-popup vue-id="3bc35b9e-16" show="{{spk_box}}" round="8" closeable="{{true}}" data-event-opts="{{[['^close',[['e1']]]]}}" bind:close="__e" class="data-v-790482c7" bind:__l="__l" vue-slots="{{['default']}}"><view class="hm-p-20 hm-border-b data-v-790482c7">在线呼叫服务</view><view class="hm-p-tb-50 data-v-790482c7"><view data-event-opts="{{[['tap',[['spk',['money']]]]]}}" class="hm-dis-block-inline hm-w-b16 data-v-790482c7" bindtap="__e"><view class="hm-text-center data-v-790482c7"><view class="hm-dis-block-inline data-v-790482c7"><u-icon vue-id="{{('3bc35b9e-17')+','+('3bc35b9e-16')}}" name="red-packet-fill" color="#19be6b" size="30" class="data-v-790482c7" bind:__l="__l"></u-icon></view></view><view class="hm-text-center hm-font-26 hm-m-t-10 data-v-790482c7">结账</view></view><view data-event-opts="{{[['tap',[['spk',['order']]]]]}}" class="hm-dis-block-inline hm-w-b16 data-v-790482c7" bindtap="__e"><view class="hm-text-center data-v-790482c7"><view class="hm-dis-block-inline data-v-790482c7"><u-icon vue-id="{{('3bc35b9e-18')+','+('3bc35b9e-16')}}" name="file-text-fill" color="#19be6b" size="30" class="data-v-790482c7" bind:__l="__l"></u-icon></view></view><view class="hm-text-center hm-font-26 hm-m-t-10 data-v-790482c7">点单</view></view><view data-event-opts="{{[['tap',[['spk',['pack']]]]]}}" class="hm-dis-block-inline hm-w-b16 data-v-790482c7" bindtap="__e"><view class="hm-text-center data-v-790482c7"><view class="hm-dis-block-inline data-v-790482c7"><u-icon vue-id="{{('3bc35b9e-19')+','+('3bc35b9e-16')}}" name="bag-fill" color="#19be6b" size="30" class="data-v-790482c7" bind:__l="__l"></u-icon></view></view><view class="hm-text-center hm-font-26 hm-m-t-10 data-v-790482c7">打包</view></view><view data-event-opts="{{[['tap',[['spk',['upper']]]]]}}" class="hm-dis-block-inline hm-w-b16 data-v-790482c7" bindtap="__e"><view class="hm-text-center data-v-790482c7"><view class="hm-dis-block-inline data-v-790482c7"><u-icon vue-id="{{('3bc35b9e-20')+','+('3bc35b9e-16')}}" name="play-right-fill" color="#19be6b" size="30" class="data-v-790482c7" bind:__l="__l"></u-icon></view></view><view class="hm-text-center hm-font-26 hm-m-t-10 data-v-790482c7">起菜</view></view><view data-event-opts="{{[['tap',[['spk',['water']]]]]}}" class="hm-dis-block-inline hm-w-b16 data-v-790482c7" bindtap="__e"><view class="hm-text-center data-v-790482c7"><view class="hm-dis-block-inline data-v-790482c7"><u-icon vue-id="{{('3bc35b9e-21')+','+('3bc35b9e-16')}}" name="checkmark-circle-fill" color="#19be6b" size="30" class="data-v-790482c7" bind:__l="__l"></u-icon></view></view><view class="hm-text-center hm-font-26 hm-m-t-10 data-v-790482c7">茶水</view></view><view data-event-opts="{{[['tap',[['spk',['serve']]]]]}}" class="hm-dis-block-inline hm-w-b16 data-v-790482c7" bindtap="__e"><view class="hm-text-center data-v-790482c7"><view class="hm-dis-block-inline data-v-790482c7"><u-icon vue-id="{{('3bc35b9e-22')+','+('3bc35b9e-16')}}" name="bell-fill" color="#19be6b" size="30" class="data-v-790482c7" bind:__l="__l"></u-icon></view></view><view class="hm-text-center hm-font-26 hm-m-t-10 data-v-790482c7">服务员</view></view></view></u-popup></view>